<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Euglena Page</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                processEscapes: true
            },
            CommonHTML: { matchFontHeight: false }
        });
        MathJax.Hub.Config({
            tex2jax: {
                skipTags: ['script', 'noscript', 'style', 'textarea']
            }
        });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" id="mathjax"></script>
</head>
<body style="background-color: #7c8;" id="background">
    <h2 style="font-family: 'Lucida Grande','TsukuARdGothic-Regular','ヒラギノ丸ゴ ProN','Hiragino Maru Gothic ProN',sans-serif; text-align: center; font-size: 40px;">simple HTML</h2>
    <div style="position: absolute; left: 100px;">
        <p style="font-family: 'Lucida Grande','TsukuARdGothic-Regular','ヒラギノ丸ゴ ProN','Hiragino Maru Gothic ProN',sans-serif; text-align: left; font-size: 20px;">入力した文字列をHTMLのコードとして読み取り、表示します。雛形は要りません。MathJaxも使えます。</p>
        <textarea style="background-color: #9e9; font-size: 20px; border: solid #afa; font-family: 'Courier', sans-serif;" rows="8" cols="50" id="___content"></textarea><br><br>
        <button style="width: 100px; height: 50px; font-size: 30px;" onclick="output()" class="___button">出力</button>
        <button style="width: 80px; height: 40px; font-size: 20px;" onclick="save()" class="___button">保存</button>
        <div style="margin-top: 20px;" id="___output_div"></div>
        <a style="font-family: 'Lucida Grande','TsukuARdGothic-Regular','ヒラギノ丸ゴ ProN','Hiragino Maru Gothic ProN',sans-serif; margin-right: 0px; font-size: 30px; margin-right: 200px; text-align: right; margin-bottom: 100px; color: #45d;" href="./../index.html">戻る</a>
    </div>
    <script>
        var buttons = $(".___button");
        buttons.css("border-radius", "0px");
        buttons.css("border", "solid #afa");
        buttons.css("background-color", "#9d9");
        buttons.mouseover(function(){$(this).css("background-color", "#9e9");});
        buttons.mouseout(function(){$(this).css("background-color", "#9d9");});
        buttons.mousedown(function(){$(this).css("background-color", "#cfc");});
        buttons.mouseup(function(){$(this).css("background-color", "#9e9");});
        $("#___output_div").css("height", $(window).height() * 4);
        $(window).resize(function() {
            $("#___output_div").css("height", $(window).height() * 4);
        });
        $("#___content").val(localStorage.getItem("saved_text"));
        function output(){
            $("#___output_div *").remove();
            $("#___output_div").text("");
            $("#___output_div").append($("#___content").val());
            MathJax.Hub.Queue(["Typeset",  MathJax.Hub]);
        }
        function save(){
            if(!$("#___content").val()){
                alert("何も入力されていません。");
                return;
            }
            if(!confirm("保存しますか？")){
                return;
            }
            localStorage.setItem("saved_text", $("#___content").val());
            alert("保存しました。");
        }
    </script>
</body>
</html>

