<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Euglena Page</title>
    <link rel="stylesheet" href="./../style.css">
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body style="background-color: #a9fca1;">
   <div class="problem_div">
        <h2 class="title">巡回経路 (Simple RPG)</h2>
        <div class="problem">
        	<h3 class="problem_title">問題文</h3>
		        <p>Simple RPGは勇者が仲間を集めながら魔王を倒すシンプルなRPGです。</p>
		        <p>勇者は \(N\) 頂点 \(M\) 辺からなるマップを移動します。 \(i\) 番目の辺は頂点 \(a_i\) から頂点 \(b_i\) へ移動することができ、長さは \(c_i\) です。</p>
		        <p>スタート時には勇者は頂点 \(1\) にいて、魔王は頂点 \(N\) にいます。</p>
		        <p>勇者は頂点 \(1\) から辺をいくつか経由して魔王のいる頂点 \(N\) へ行き、魔王を倒すのがこのゲームのクリア条件です。</p>
		        <p>しかし、魔王を倒すためには勇者だけでなく仲間の存在も必要です。</p>
		        <p>仲間候補は \(K\) 人いて、 \(i\) 人目の仲間候補は頂点 \(v_i\) にいます。</p>
		        <p>勇者が仲間候補のいる頂点に着くと、その場で仲間候補は仲間となってくれます。</p>
		        <p>魔王を倒すためには全ての仲間候補を仲間にしてから魔王のいる頂点へ行かなければなりません。</p>
		        <p>このゲームを遊んでいるフィーは、次の \(2\) つの実績を狙っています。</p>
		        <p>・実績「短」 : 魔王を倒すまでの勇者の移動距離がある一定時間より短い</p>
		        <p>・実績「長」 : 魔王を倒すまでの勇者の移動距離がある一定時間より長い</p>
		        <p>勇者の移動距離は、勇者の通った辺の長さの総和です。</p>
		        <p>この \(2\) つの実績を取るために、フィーはまずは魔王を倒すまでの勇者の移動距離の最短と最長を求めたくなりました。</p>
		        <p>フィーは計算が苦手なので、フィーの代わりに移動距離の最短と最長を求めて下さい。</p>
		        <p>ただし、辺の途中で立ち止まったり引き返したり、頂点に立ち止まったり、マップの外に出たりすることは出来ません。</p>
	       	<h3 class="problem_title">入力</h3>
		        <p>1行目には \(N, M, K\) が空白区切りで与えられます。</p>
		        <p>2行目以降の \(M\) 行にはマップの辺が与えられます。</p>
		        <p>　\(i+1\) 行目 \((1≦i≦M)\) には \(a_i, b_i, c_i\) が空白区切りで与えられます。</p>
		        <p>\(M+2\) 行目以降の \(K\) 行には仲間のいる場所が与えられます。</p>
		        <p>　\(M+i+1\) 行目 \((1≦i≦K)\) には \(v_i\) が与えられます。</p>
	       	<h3 class="problem_title">出力</h3>
		        <p>\(1\) 行目には魔王を倒すまでの勇者の最短移動距離、 \(2\) 行目には魔王を倒すまでの勇者の最長移動距離を出力して下さい。</p>
		        <p>移動距離が \(2^{63}-1\) を超える場合は代わりにlongを出力して下さい。</p>
        	<h3 class="problem_title">制約</h3>
	        	<ul>
 			        <li>\(1≦N≦50,000\)</li><br>
 			        <li>\(1≦M≦100,000\)</li><br>
 			        <li>\(1≦K≦20\)</li><br>
			        <li>\(1≦a_i, b_i≦N\)</li><br>
			        <li>\(1≦c_i<2^{63}\)</li><br>
			        <li>\(1≦v_i≦N\)</li><br>
			        <li>\(a_i≠b_i\)</li><br>
			        <li>\(i≠j\) なら \((a_i, b_i)≠(a_j, b_j)\)</li><br>
 			        <li>マップのグラフは連結である</li>
        		</ul>
	       	<h3 class="problem_title">小課題</h3>
	       		<h4>小課題 Small</h4>
	       		<ul class="small_task">
		        	<li>\(1≦N≦300\)</li>
        		</ul>
	       		<h4>小課題 Large</h4>
	       		<ul class="small_task">
		        	<li>\(1≦N≦1,000\)</li><br>
 		        	<li>\(1≦M≦1,200\)</li>
        		</ul>
	       		<h4>小課題 Only</h4>
	       		<ul class="small_task">
		        	<li>\(K=1\)</li>
        		</ul>
	       		<h4>小課題 Haganai</h4>
	       		<ul class="small_task">
		        	<li>\(1≦K≦10\)</li>
        		</ul>
	       		<h4>小課題 DAG</h4>
	       		<ul class="small_task">
		        	<li>マップのグラフには閉路がない。</li>
        		</ul>
	       		<h4>小課題 Euglena</h4>
	       		<ul class="small_task">
		        	<li>追加の制約はない。</li>
        		</ul>
	    </div>
        <p style="color: #999;">作成日 : 2018/5/5</p>
		<a class="back_button" href="./../html_pages/problem.html"><u>戻る</u></a>
    </div>
</body>
</html>
